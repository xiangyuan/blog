<!doctype html>
<html lang="en">
    <head>
        <title>Make Apache Less Talkative</title>

        <!-- meta -->
        <meta name="author" content="Danilo Bargen">
        <meta name="dc.language" content="en-US">
        <meta name="dc.license" content="http://creativecommons.org/licenses/by-sa/3.0/">
        
        <meta name="keywords" content="sysadmin">
        
            <meta name="dc.date.created" content="2009-03-11">
            <meta name="dc.date.issued" content="2009-03-11">
        
        <meta name="google-site-verification" content="uJWWR6d5ESb8torD0v97T_07HLMGX7VzQ-smcUTc_IQ" />

        <!-- favicon -->
        <link rel="icon" href="/favicon.ico" type="image/x-icon">

        <!-- newsfeed -->
        <link href="/feed.atom" rel="alternate" title="Feed" type="application/atom+xml">

        <!-- assets -->
        <link href="https://fonts.googleapis.com/css?family=Linden+Hill:400,400italic" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="/static/style.css?1371592067" type="text/css">
            <link rel="stylesheet" href="/static/_pygments.css?1371592069" type="text/css">
    </head>
    <body>
        <div id="wrapper">
            <div id="blogtitle"><a href="/">blog.dbrgn.ch</a></div>
            <ul id="mainnav">
                <li><a href="/">home</a></li>
                <li><a href="/archive/">archive</a></li>
                <li><a href="/tags/">tags</a></li>
                <li><a href="/blog/">about this blog</a></li>
                <li class="last"><a href="/about/">about me</a></li>
            </ul>

            <div class="clearboth"></div>

            <div id="content" class="hyphenate">
                
  <h1 class="title">Make Apache Less Talkative</h1>

  
    <div class="date">
      <p>written on Wednesday, March 11, 2009</p>
    </div>
  

  <p>On a standard installation of Apache, the webserver sends a lot of information about installed
software to the client. This would provide a hypothetical attacker with a lot of information of how
to attack your server. To see how verbose your Apache installation actually is, open a non-existing
website on your webserver. In the signature of the 404-error-message, you'll see something like
this:</p>
<pre class="literal-block">
Apache/2.0.55 (Debian) PHP/5.1.2-1+b1 mod_ssl/2.0.55 OpenSSL/0.9.8b
</pre>
<p>If you don't want that information to be shown, change the
<tt class="docutils literal">ServerTokens</tt> and <tt class="docutils literal">ServerSignature</tt> directives in your
Apache-configfile (<cite>/etc/apache2/apache2.conf</cite>) to the values shown below:</p>
<div class="highlight"><pre><span class="c"># ServerTokens</span>
<span class="c"># This directive configures what you return as the Server HTTP response</span>
<span class="c"># Header. The default is &#39;Full&#39; which sends information about the OS-Type</span>
<span class="c"># and compiled in modules.</span>
<span class="c"># Set to one of:  Full | OS | Minor | Minimal | Major | Prod</span>
<span class="c"># where Full conveys the most information, and Prod the least.</span>
<span class="c">#</span>
<span class="nb">ServerTokens</span> Prod

<span class="c">#</span>
<span class="c"># Optionally add a line containing the server version and virtual host</span>
<span class="c"># name to server-generated pages (internal error documents, FTP directory</span>
<span class="c"># listings, mod_status and mod_info output etc., but not CGI generated</span>
<span class="c"># documents or custom error documents).</span>
<span class="c"># Set to &quot;EMail&quot; to also include a mailto: link to the ServerAdmin.</span>
<span class="c"># Set to one of:  On | Off | EMail</span>
<span class="c">#</span>
<span class="nb">ServerSignature</span> <span class="k">Off</span>
</pre></div>
<p>To also hide information about the installed PHP version, change the <tt class="docutils literal">expose_php</tt> option in your
PHP-configfile (<cite>/etc/php5/apache2/php.ini</cite>) to <cite>Off</cite>.</p>
<div class="highlight"><pre><span class="c">; Decides whether PHP may expose the fact that it is installed on the server</span>
<span class="c">; (e.g. by adding its signature to the Web server header).  It is no security</span>
<span class="c">; threat in any way, but it makes it possible to determine whether you use PHP</span>
<span class="c">; on your server or not.</span>
<span class="na">expose_php</span> <span class="o">=</span> <span class="s">Off</span>
</pre></div>
<p>Finally, restart Apache.</p>
<div class="highlight"><pre><span class="nv">$ </span>/etc/init.d/apache2 force-reload
</pre></div>
<p>Voil√†, the server-information on your error pages should now be gone.</p>
<p><strong>Update:</strong> Under Debian Lenny, those directives are stored in the file
<cite>/etc/apache2/conf.d/security</cite>.</p>


  
      <a href="https://flattr.com/submit/auto?user_id=danilo&url=http://blog.dbrgn.ch/2009/3/11/make-apache-less-talkative/&title=Make%20Apache%20Less%20Talkative&description=None&tags=sysadmin&category=text">
           <img class="flattrbutton" src="/static/img/flattr-badge-large.png" alt="Flattr this!" /> 
      </a>
  

  
    <div class="tags">
      <p>This entry was tagged
      
        <a href="/tags/sysadmin/">sysadmin</a></p>
    </div>
  

  
    
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'dbrgn'; // required: replace example with your forum shortname
    
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>

  

            </div>
        </div>

        <script type="text/javascript">
          var _gaq = _gaq || [];
          _gaq.push(['_setAccount', 'UA-1033934-12']);
          _gaq.push(['_trackPageview']);
          (function() {
            var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
            ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
          })();
        </script>
        <script type="text/javascript" src="/static/hyphenator.js"></script>
        <script type="text/javascript">
            Hyphenator.config({
                donthyphenateclassname : 'docutils literal'
            });
            Hyphenator.run();
        </script>

    </body>
</html>
